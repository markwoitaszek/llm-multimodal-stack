# =============================================================================
# Multimodal LLM Stack - Environment Configuration Template
# =============================================================================
# Copy this file to .env and customize the values for your deployment
# All sensitive values should be changed in production!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=multimodal
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# MinIO S3-compatible storage
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your_secure_minio_password

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================
# vLLM inference server
VLLM_MODEL=microsoft/DialoGPT-medium
VLLM_GPU_MEMORY_UTILIZATION=0.8
VLLM_MAX_MODEL_LEN=1024
VLLM_MAX_NUM_SEQS=8

# LiteLLM proxy configuration
LITELLM_MASTER_KEY=sk-your-secure-master-key
LITELLM_SALT_KEY=sk-your-secure-salt-key
VLLM_API_KEY=your_secure_vllm_api_key

# =============================================================================
# GPU CONFIGURATION
# =============================================================================
CUDA_VISIBLE_DEVICES=0,1

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
# Redis database assignments for different services:
REDIS_DB_MULTIMODAL_WORKER=0
REDIS_DB_RETRIEVAL_PROXY=1
REDIS_DB_AI_AGENTS=2
REDIS_DB_SEARCH_ENGINE=3
REDIS_DB_MEMORY_SYSTEM=4
REDIS_DB_USER_MANAGEMENT=5

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT secret for user management
JWT_SECRET_KEY=your-secret-key-change-in-production

# OpenWebUI configuration
WEBUI_SECRET_KEY=your-secure-webui-secret

# n8n workflow management
N8N_PASSWORD=your_secure_n8n_password
N8N_ENCRYPTION_KEY=your_secure_encryption_key

# Service-specific secrets
IDE_BRIDGE_SECRET_KEY=your_secure_ide_bridge_secret
N8N_MONITORING_SECRET_KEY=your_secure_n8n_monitoring_secret

# =============================================================================
# DEBUG AND DEVELOPMENT
# =============================================================================
DEBUG=false

# =============================================================================
# STORAGE PATHS (for production deployments)
# =============================================================================
# Uncomment and customize these for production storage optimization
# QDRANT_DATA_PATH=/mnt/nvme/qdrant
# POSTGRES_DATA_PATH=/mnt/nvme/postgres
# MINIO_DATA_PATH=/mnt/nvme/minio
# CACHE_PATH=/mnt/nvme/cache

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL_SEARCH_RESULTS=3600
CACHE_TTL_MODEL_METADATA=86400
CACHE_TTL_EMBEDDINGS=86400
CACHE_TTL_AGENT_MEMORY=2592000

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
# Model paths
MODELS_PATH=./models

# Service URLs (internal communication)
MULTIMODAL_WORKER_URL=http://multimodal-worker:8001
RETRIEVAL_PROXY_URL=http://multimodal-retrieval-proxy:8002
SEARCH_ENGINE_URL=http://search-engine:8004
MEMORY_SYSTEM_URL=http://memory-system:8005
USER_MANAGEMENT_URL=http://user-management:8006
LLM_BASE_URL=http://vllm:8000/v1
OPENAI_API_BASE_URL=http://vllm:8000/v1

# Additional Service URLs
AI_AGENTS_URL=http://ai-agents:8003
IDE_BRIDGE_URL=http://ide-bridge:8007
N8N_URL=http://n8n:5678
N8N_WEBHOOK_URL=http://localhost:5678
IDE_BRIDGE_WEB_URL=http://localhost:8007
IDE_BRIDGE_WS_URL=ws://localhost:8007/ws
N8N_MONITORING_DASHBOARD_URL=http://localhost:8008
N8N_MONITORING_WS_URL=ws://localhost:8008/ws

# Service Ports
VLLM_PORT=8000
LITELLM_PORT=4000
MULTIMODAL_WORKER_PORT=8001
RETRIEVAL_PROXY_PORT=8002
AI_AGENTS_PORT=8003
SEARCH_ENGINE_PORT=8004
MEMORY_SYSTEM_PORT=8005
USER_MANAGEMENT_PORT=8006
OPENWEBUI_PORT=3030
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
POSTGRES_PORT=5432
REDIS_PORT=6379
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9002

# Additional Service Ports
IDE_BRIDGE_PORT=8007
IDE_BRIDGE_WEB_PORT=3002
N8N_MONITORING_PORT=8008
N8N_MONITORING_DASHBOARD_PORT=3003
N8N_PORT=5678
REALTIME_COLLABORATION_PORT=3006

# Service Hosts
VLLM_HOST=0.0.0.0
QDRANT_HOST=qdrant
POSTGRES_HOST=postgres
REDIS_HOST=redis
MINIO_ENDPOINT=minio:9000

# Additional Service Hosts
IDE_BRIDGE_HOST=0.0.0.0
N8N_MONITORING_HOST=0.0.0.0
N8N_HOST=localhost

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30s

# =============================================================================
# OPTIONAL: EXTERNAL API KEYS
# =============================================================================
# Uncomment and configure if using external services
# OPENAI_API_KEY=your_openai_api_key
# ANTHROPIC_API_KEY=your_anthropic_api_key
# GOOGLE_API_KEY=your_google_api_key