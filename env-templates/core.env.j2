# Core Services Environment Template
# This template contains environment variables for core services (qdrant, postgres, redis, minio)
# Secrets are referenced using OpenBao/Ansible variable syntax

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB={{ postgres_db | default('multimodal') }}
POSTGRES_USER={{ postgres_user | default('postgres') }}
POSTGRES_PASSWORD={{ vault_postgres_password | default('changeme_in_production') }}
POSTGRES_HOST={{ postgres_host | default('postgres') }}
POSTGRES_PORT={{ postgres_port | default('5432') }}

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST={{ redis_host | default('redis') }}
REDIS_PORT={{ redis_port | default('6379') }}
REDIS_PASSWORD={{ vault_redis_password | default('') }}

# Redis database assignments for different services:
REDIS_DB_MULTIMODAL_WORKER={{ redis_db_multimodal_worker | default('0') }}
REDIS_DB_RETRIEVAL_PROXY={{ redis_db_retrieval_proxy | default('1') }}
REDIS_DB_AI_AGENTS={{ redis_db_ai_agents | default('2') }}
REDIS_DB_SEARCH_ENGINE={{ redis_db_search_engine | default('3') }}
REDIS_DB_MEMORY_SYSTEM={{ redis_db_memory_system | default('4') }}
REDIS_DB_USER_MANAGEMENT={{ redis_db_user_management | default('5') }}
REDIS_DB_N8N_MONITORING={{ redis_db_n8n_monitoring | default('7') }}

# =============================================================================
# STORAGE CONFIGURATION (MinIO)
# =============================================================================
MINIO_ROOT_USER={{ minio_root_user | default('minioadmin') }}
MINIO_ROOT_PASSWORD={{ vault_minio_root_password | default('changeme_in_production') }}
MINIO_PORT={{ minio_port | default('9000') }}
MINIO_CONSOLE_PORT={{ minio_console_port | default('9002') }}
MINIO_ENDPOINT={{ minio_endpoint | default('minio:9000') }}

# =============================================================================
# VECTOR DATABASE CONFIGURATION (Qdrant)
# =============================================================================
QDRANT_HTTP_PORT={{ qdrant_http_port | default('6333') }}
QDRANT_GRPC_PORT={{ qdrant_grpc_port | default('6334') }}
QDRANT_HOST={{ qdrant_host | default('qdrant') }}

# =============================================================================
# DEBUG AND DEVELOPMENT
# =============================================================================
DEBUG={{ debug | default('false') }}
LOG_LEVEL={{ log_level | default('INFO') }}