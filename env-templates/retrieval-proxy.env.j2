# Retrieval Proxy Service Environment Template
# This template contains environment variables for the retrieval proxy service

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
RETRIEVAL_PROXY_PORT={{ retrieval_proxy_port | default('8002') }}
RETRIEVAL_PROXY_URL={{ retrieval_proxy_url | default('http://multimodal-retrieval-proxy:8002') }}

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Uses core database configuration from core.env.j2
POSTGRES_HOST={{ postgres_host | default('postgres') }}
POSTGRES_PORT={{ postgres_port | default('5432') }}
POSTGRES_DB={{ postgres_db | default('multimodal') }}
POSTGRES_USER={{ postgres_user | default('postgres') }}
POSTGRES_PASSWORD={{ vault_postgres_password | default('changeme_in_production') }}

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================
QDRANT_HOST={{ qdrant_host | default('qdrant') }}
QDRANT_PORT={{ qdrant_http_port | default('6333') }}

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
MINIO_ENDPOINT={{ minio_endpoint | default('minio:9000') }}
MINIO_ACCESS_KEY={{ minio_root_user | default('minioadmin') }}
MINIO_SECRET_KEY={{ vault_minio_root_password | default('changeme_in_production') }}

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST={{ redis_host | default('redis') }}
REDIS_PORT={{ redis_port | default('6379') }}
REDIS_DB={{ redis_db_retrieval_proxy | default('1') }}

# =============================================================================
# SERVICE INTEGRATION
# =============================================================================
MULTIMODAL_WORKER_URL={{ multimodal_worker_url | default('http://multimodal-worker:8001') }}

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL_SEARCH_RESULTS={{ cache_ttl_search_results | default('3600') }}
CACHE_TTL_RETRIEVAL_RESULTS={{ cache_ttl_retrieval_results | default('1800') }}

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
RETRIEVAL_MAX_RESULTS={{ retrieval_max_results | default('10') }}
RETRIEVAL_TIMEOUT={{ retrieval_timeout | default('30') }}
RETRIEVAL_BATCH_SIZE={{ retrieval_batch_size | default('5') }}